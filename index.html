<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>CodeMortals</title>

	<link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/codemortals.css">

    <!-- Font Awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.9.0/js/all.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.9.0/js/v4-shims.js"></script>

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/monokai.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<section>
					<h2>Pipeline Driven Development</h2>
					<h3>Angular / Firebase / Cypress</h3>
                    <p>by</p>
                    <p>Code Mortals</p>
				</section>
			</section>

			<section>
				<section>
					<h2><i class="fab fa-angular fa-lg"></i>ngular</h2>
                    <p>Framework built by Google</p>
                    <ul>
                        <li>Cross Platform</li>
                        <li>Speed and Performance</li>
                        <li>Productivity</li>
                        <li>Full development pipeline</li>
                    </ul>
                    <aside class="notes">
                        <p>Cross Platform</p>
                        <ul>
                            <li>Progressive Web Apps</li>
                            <li>Native (Cordova, Ionic, NativeScript)</li>
                            <li>Desktop</li>
                        </ul>

                        <p>Speed and Performance</p>
                        <ul>
                            <li>Code Generation (Tree shaking)</li>
                            <li>Universal (SSR)</li>
                            <li>Code Splitting (Router & Lazy Loading)</li>
                        </ul>

                        <p>Productivity</p>
                        <ul>
                            <li>Templates</li>
                            <li>Angular CLI</li>
                            <li>IDEs (most IDEs have plugins)</li>
                        </ul>

                        <p>Full development pipeline</p>
                        <ul>
                            <li>Testing (Karma and Protractor)</li>
                            <li>Animations (built in API)</li>
                            <li>Accessibility (ARIA & a11y)</li>
                        </ul>
                    </aside>
                </section>

				<section>
                    <h3>Get Started</h3>
                    <div class="stack">
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">$ npm i -g @angular/cli</code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    $ ng new codemortals
                                    ? Would you like to add Angular routing? Yes
                                    ? Which stylesheet format would you like to use? (Use arrow keys)
                                      CSS
                                    ❯ SCSS   [ https://sass-lang.com/documentation/syntax#scss                ]
                                      Sass   [ https://sass-lang.com/documentation/syntax#the-indented-syntax ]
                                      Less   [ http://lesscss.org                                             ]
                                      Stylus [ http://stylus-lang.com                                         ]
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    cd codemortals
                                    npm start
                                </code>
                            </pre>
                            <p class="caption">open browser <strong>http://localhost:4200</strong></p>
                        </div>
                        <div class="fragment fade-in">
                            <img src="images/angular-cli-init.png">
                        </div>
                    </div>
				</section>
			</section>

			<section>
				<section>
                    <h2>Continuous Integration (CI)</h2>
                    <p>Automation Engine</p>
                    <ul>
                        <li>Simplifies team processes</li>
                        <li>Provides rapid feedback</li>
                        <li>Upgrade project confidence</li>
                        <li>Reduces delivery overheads</li>
                    </ul>
                    <aside class="notes">
                        <p>Simplifies team processes</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Provides rapid feedback</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Upgrade project confidence</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Reduces delivery overheads</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </aside>
				</section>
				<section>
                    <h2>CircleCI</h2>
                    <div class="stack">
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    version: 2

                                    jobs: ....

                                    workflow: ....
                                </code>
                            </pre>
                            <p class="caption">circle.yml</p>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    jobs:
                                      build-code:
                                        docker:
                                          - image: circleci/node:10
                                        steps:
                                          - checkout
                                          - run: npm install
                                          - run: npm run build

                                      build-docs:
                                        docker:
                                        steps:
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    workflow:
                                      - build-code
                                      - build-docs
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in">
                            <img src="images/ci-circle-overview.png">
                        </div>
                        <div class="fragment fade-in">
                            <img src="images/ci-circle-workflow.png">
                        </div>
                    </div>
				</section>
			</section>

			<section>
				<section>
                    <h2>Continuous Delivery (CD)</h2>
                    <p>Deployment Automation</p>
                    <ul>
                        <li>Frequent release cycle</li>
                        <li>Iterative improvements</li>
                        <li>Repeatable process</li>
                        <li>Enables change</li>
                    </ul>
                    <aside class="notes">
                        <p>Frequent release cycle</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Iterative improvements</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Repeatable process</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>

                        <p>Enables change</p>
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </aside>
				</section>
				<section>
                    <h2>Firebase</h2>
                    <div class="stack">
                        <div class="fragment fade-in-then-out">
                            <img src="images/cd-firebase-dashboard.png">
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    $ npm i --save-dev firebase-tools
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    $ npx firebase login
                                    $ npx firebase init

                                    ? Which Firebase CLI features do you want to set up for this folder? Press Space to select features, then Enter to confirm your choices.
                                      ◯ Database: Deploy Firebase Realtime Database Rules
                                      ◯ Firestore: Deploy rules and create indexes for Firestore
                                      ◯ Functions: Configure and deploy Cloud Functions
                                    ❯ ◉ Hosting: Configure and deploy Firebase Hosting sites
                                      ◯ Storage: Deploy Cloud Storage security rules
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    === Project Setup

                                    ? Select a default Firebase project for this directory:
                                      [don't setup a default project]
                                    ❯ codemortals-website (Website)
                                      [create a new project]
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    === Hosting Setup

                                    ? What do you want to use as your public directory? dist

                                    ? Configure as a single-page app (rewrite all urls to /index.html)? (y/N) y

                                    ✔  Wrote dist/index.html

                                    i  Writing configuration info to firebase.json...
                                    i  Writing project information to .firebaserc...

                                    ✔  Firebase initialization complete!
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    $ npx firebase login:ci

                                    Visit this URL on any device to log in:
                                    https://accounts.google.com/o/oauth2/auth?.....

                                    Waiting for authentication...

                                    ✔  Success! Use this token to login on a CI server:

                                    1/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

                                    Example: firebase deploy --token "$FIREBASE_TOKEN"
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    deploy: &deploy
                                      docker:
                                        - image: google/cloud-sdk
                                      steps:
                                        - checkout
                                        - run: npm run build
                                        - run: npx firebase use --token $FIREBASE_KEY
                                        - run: npx firebase deploy --token $FIREBASE_KEY

                                    deploy-dev:
                                      <<: *deploy

                                    deploy-prod:
                                      <<: *deploy
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in">
                            <pre>
                                <code data-trim class="hljs no-highlight">
                                    workflow:
                                      - build-code
                                      - build-docs
                                      - deploy-dev:
                                          context: website-dev
                                          requires:
                                            - build-code
                                          filters:
                                            branches:
                                              only: development
                                      - deploy-prod:
                                          context: website-prod
                                          requires:
                                            - build-code
                                          filters:
                                            branches:
                                              only: production
                                </code>
                            </pre>
                        </div>
                    </div>
				</section>
			</section>

			<section>
				<section>
                    <h2>Cypress</h2>
                    <p>Browser testing automation</p>
                    <ul>
                        <li>Fast and Reliable</li>
                        <li>Runs on the CLI or Desktop</li>
                        <li>Real-time reloading & time travel</li>
                        <li>Continuous regression testing</li>
                    </ul>
				</section>
				<section>
                    <iframe width="900" height="504" src="https://www.youtube.com/embed/R2Q1LhhMYGw?rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
				</section>
				<section>
                    <div class="stack">
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs javascript">
                                    $ npm i cypress
                                    $ npm i cypress-cucumber-preprocessor

                                    "scripts": {
                                        "build": "ng build",
                                        "start:test": "serve -s -p 8080 dist",
                                        "cypress:run": "cypress run",
                                        "cypress:open": "cypress open"
                                    }
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <pre>
                                <code data-trim class="hljs javascript">
                                    describe('User authentication', function() {
                                        it('Successful login of a valid user account', function() {
                                            cy.visit('/login');
                                            cy.get('form')
                                                .within(() => {
                                                    cy.get('input[id="username"]')
                                                        .should('be.empty')
                                                        .type('team@codemortals.io')
                                                    cy.get('input[id="password"]')
                                                        .should('be.empty')
                                                        .type('ValidPassword')
                                                    cy.get('button')
                                                        .contains('Login')
                                                        .should('not.be.disabled')
                                                        .click()
                                            });
                                            cy.location()
                                                .should((location) => {
                                                    expect(location.pathname).to.eq('/account');
                                                })
                                        });
                                    });
                                </code>
                            </pre>
                        </div>
                    </div>
				</section>
				<section>
                    <h2>Cucumber</h2>
                    <div class="stack">
                        <div class="fragment fade-in-then-out">
                            <p>Gherkin Syntax</p>
                            <pre>
                                <code data-trim class="hljs gherkin">
                                    Scenario: Describe the scenario
                                      Given there is a precondition
                                      When an action or input occurs
                                      Then an outcome should be observed
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <p>Gherkin Example (Happy Path)</p>
                            <pre>
                                <code data-trim class="hljs gherkin">
                                    Scenario: Successful login of a valid user account
                                      Given the "/login" page is open
                                      When the "username" field is set to "team@codemortals.io"
                                      And the "password" field is set to "ValidPassword"
                                      Then the "Login" button should be "enabled"
                                      When the "Login" button is clicked
                                      Then the "/account" page is open
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in-then-out">
                            <p>Gherkin Example (Sad Path)</p>
                            <pre>
                                <code data-trim class="hljs gherkin">
                                    Scenario: Failure to login with an incorrect password
                                      Given the "/login" page is open
                                      When the "username" field is set to "team@codemortals.io"
                                      And the "password" field is set to "IncorrectPassword"
                                      Then the "Login" button should be "enabled"
                                      When the "Login" button is clicked
                                      Then the "/login" page is open
                                      And an error message says "Invalid credentials"
                                </code>
                            </pre>
                        </div>
                        <div class="fragment fade-in">
                            <p>Step definition</p>
                            <pre>
                                <code data-trim class="hljs javascript">
                                    import { Given } from 'cypress-cucumber-preprocessor/steps';

                                    Given('the {string} page is open', (path) => {
                                        cy.visit(path);
                                    });
                                </code>
                            </pre>
                        </div>
                    </div>
				</section>
                <section>
                    <h2>Cucumber</h2>
                    <p>The benefits (BDD)</p>
                    <ul>
                        <li>Collaborative (human readable)</li>
                        <li>Re-usable step definitions</li>
                        <li>Iteratively improve steps</li>
                        <li>Enables consistency</li>
                    </ul>
                    <aside class="notes">
                        <p>Bridges gaps between technical and non-technical</p>
                        <p>Not just in this project but you can use the steps across many projects</p>
                        <p>Just update a single step and everywhere using that step can benefit, vs having to update all tests everywhere</p>
                    </aside>
                </section>
			</section>

			<section>
				<section>
					<h2>Automate everything!</h2>
                    <p>Whatever your projects needs - automate it now</p>
                    <ul>
                        <li>Functional Tests</li>
                        <li>Performance</li>
                        <li>Security</li>
                        <li>Accessibility</li>
                        <li>Deployment</li>
                        <li>...and much much more!</li>
                    </ul>
				</section>

				<section>
                    <h2>Final Thoughts</h2>
                    <p>We are always learning, try one new thing every day</p>
                    <ul>
                        <li>TypeScript</li>
                        <li>BDD / Gherkin (Cucumber)</li>
                        <li>RTFM - documentation varies</li>
                    </ul>
				</section>

                <section>
                    <h2>Any Questions?</h2>
                    <img class="plain" src="https://codemortals.io/assets/mascot/11.png" alt="Code Mortals Mascot" />
                    <p class="caption">P.S. Don't forget to follow us on socials and <span style="text-decoration: underline">subscribe on YouTube</span> <i class="fab fa-youtube-square fa-lg"></i></p>
                    <p class="caption">
                        Slides are Open Source on <i class="fab fa-github-square fa-lg"></i>
                        <br>
                        <a href="https://github.com/codemortals/presentation-pipeline-driven-development">
                            https://github.com/codemortals/presentation-pipeline-driven-development
                        </a>
                    </p>
                </section>
			</section>

		</div>
	</div>

	<footer>
		<img src="https://codemortals.io/assets/mascot/2.png" alt="Code Mortals Mascot" />
        <div class="social">
            <div>@codemortals</div>
            <div class="icons">
                <i class="fab fa-youtube-square fa-lg"></i>
                <i class="fab fa-twitter-square fa-lg"></i>
                <i class="fab fa-facebook-square fa-lg"></i>
                <i class="fab fa-instagram fa-lg"></i>
                <i class="fab fa-linkedin fa-lg"></i>
            </div>
        </div>
	</footer>

	<script src="js/reveal.js"></script>

	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			dependencies: [
				{ src: 'plugin/markdown/marked.js' },
				{ src: 'plugin/markdown/markdown.js' },
				{ src: 'plugin/notes/notes.js', async: true },
				{ src: 'plugin/highlight/highlight.js', async: true }
			],
			// Display presentation control arrows
			controls: true,

			// Help the user learn the controls by providing hints, for example by
			// bouncing the down arrow when they first encounter a vertical slide
			controlsTutorial: true,

			// Determines where controls appear, "edges" or "bottom-right"
			controlsLayout: 'bottom-right',

			// Visibility rule for backwards navigation arrows; "faded", "hidden"
			// or "visible"
			controlsBackArrows: 'faded',

			// Display a presentation progress bar
			progress: true,

			// Display the page number of the current slide
			slideNumber: false,

			// Add the current slide number to the URL hash so that reloading the
			// page/copying the URL will return you to the same slide
			hash: false,

			// Push each slide change to the browser history. Implies `hash: true`
			history: true,

			// Enable keyboard shortcuts for navigation
			keyboard: true,

			// Enable the slide overview mode
			overview: true,

			// Vertical centering of slides
			center: true,

			// Enables touch navigation on devices with touch input
			touch: true,

			// Loop the presentation
			loop: false,

			// Change the presentation direction to be RTL
			rtl: false,

			// See https://github.com/hakimel/reveal.js/#navigation-mode
			navigationMode: 'default',

			// Randomizes the order of slides each time the presentation loads
			shuffle: false,

			// Turns fragments on and off globally
			fragments: true,

			// Flags whether to include the current fragment in the URL,
			// so that reloading brings you to the same fragment position
			fragmentInURL: false,

			// Flags if the presentation is running in an embedded mode,
			// i.e. contained within a limited portion of the screen
			embedded: false,

			// Flags if we should show a help overlay when the questionmark
			// key is pressed
			help: true,

			// Flags if speaker notes should be visible to all viewers
			showNotes: false,

			// Global override for autoplaying embedded media (video/audio/iframe)
			// - null: Media will only autoplay if data-autoplay is present
			// - true: All media will autoplay, regardless of individual setting
			// - false: No media will autoplay, regardless of individual setting
			autoPlayMedia: null,

			// Global override for preloading lazy-loaded iframes
			// - null: Iframes with data-src AND data-preload will be loaded when within
			//   the viewDistance, iframes with only data-src will be loaded when visible
			// - true: All iframes with data-src will be loaded when within the viewDistance
			// - false: All iframes with data-src will be loaded only when visible
			preloadIframes: null,

			// Number of milliseconds between automatically proceeding to the
			// next slide, disabled when set to 0, this value can be overwritten
			// by using a data-autoslide attribute on your slides
			autoSlide: 0,

			// Stop auto-sliding after user input
			autoSlideStoppable: true,

			// Use this method for navigation when auto-sliding
			autoSlideMethod: Reveal.navigateNext,

			// Specify the average time in seconds that you think you will spend
			// presenting each slide. This is used to show a pacing timer in the
			// speaker view
			defaultTiming: 120,

			// Enable slide navigation via mouse wheel
			mouseWheel: false,

			// Hide cursor if inactive
			hideInactiveCursor: true,

			// Time before the cursor is hidden (in ms)
			hideCursorTime: 5000,

			// Hides the address bar on mobile devices
			hideAddressBar: true,

			// Opens links in an iframe preview overlay
			// Add `data-preview-link` and `data-preview-link="false"` to customise each link
			// individually
			previewLinks: false,

			// Transition style
			transition: 'convex', // none/fade/slide/convex/concave/zoom

			// Transition speed
			transitionSpeed: 'default', // default/fast/slow

			// Transition style for full page slide backgrounds
			backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

			// Number of slides away from the current that are visible
			viewDistance: 3,

			// Parallax background image
			parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

			// Parallax background size
			parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

			// Number of pixels to move the parallax background per slide
			// - Calculated automatically unless specified
			// - Set to 0 to disable movement along an axis
			parallaxBackgroundHorizontal: null,
			parallaxBackgroundVertical: null,

			// The display mode that will be used to show slides
			display: 'block'
		});
	</script>
</body>

</html>
